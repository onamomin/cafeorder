<!DOCTYPE html> 
<html lang="ja" xmlns:th="http://www.thymeleaf.org"> 
 
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>管理者: 注文一覧</title> 
    <style> 
        body { 
            font-family: 'Arial', sans-serif; 
            margin: 0; 
            padding: 0; 
            background-color: #f4f4f4; 
            color: #333; 
        } 
 
        .header { 
            background-color: #6a002c; 
            color: white; 
            padding: 15px 20px; 
            text-align: center; 
        } 
 
        .header h1 { 
            margin: 0; 
        } 
 
        .nav { 
            background-color: #500021; 
            padding: 10px 0; 
            text-align: center; 
        } 
 
        .nav a { 
            color: white; 
            text-decoration: none; 
            padding: 0 15px; 
        } 
 
        .nav a:hover { 
            text-decoration: underline; 
        }
		.container { 
		            max-width: 960px; 
		            margin: 20px auto; 
		            padding: 20px; 
		            background-color: white; 
		            border-radius: 8px; 
		            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); 
		        } 
		 
		        h2 { 
		            color: #6a002c; 
		            border-bottom: 2px solid #6a002c; 
		            padding-bottom: 5px; 
		            margin-bottom: 20px; 
		        } 
		 
		        table { 
		            width: 100%; 
		            border-collapse: collapse; 
		            margin-top: 20px; 
		        } 
		 
		        th, 
		        td { 
		            border: 1px solid #ddd; 
		            padding: 10px; 
		            text-align: left; 
		        } 
		 
		        th { 
		            background-color: #f2f2f2; 
		        } 
		 
		        .action-links a { 
		            margin-right: 10px; 
		            text-decoration: none; 
		            color: #007bff; 
		        } 
		 
		        .action-links a.delete { 
		            color: #dc3545; 
		        } 
		 
		        .action-links a:hover { 
		            text-decoration: underline; 
		        }
				.message { 
				            background-color: #d4edda; 
				            color: #155724; 
				            border: 1px solid #c3e6cb; 
				            padding: 10px; 
				            border-radius: 5px; 
				            margin-bottom: 20px; 
				            text-align: center; 
				        } 
				 
				        .error-message { 
				            background-color: #f8d7da; 
				            color: #721c24; 
				            border: 1px solid #f5c6cb; 
				            padding: 10px; 
				            border-radius: 5px; 
				            margin-bottom: 20px; 
				            text-align: center; 
				        } 
				    </style> 
				</head> 
				 
				<body> 
				    <div class="header"> 
				        <h1>My Café Online - 管理者</h1> 
				    </div> 
				    <div class="nav"> <a th:href="@{/}">顧客サイトトップ</a> <a th:href="@{/admin/products}">商品管理</a> 
				<a 
				            th:href="@{/admin/orders}">注文管理</a> </div> 
				    <div class="container"> 
				        <h2>注文一覧</h2> 
				 
				        <p th:if="${message}" class="message" th:text="${message}"></p> 
				        <p th:if="${errorMessage}" class="error-message" th:text="${errorMessage}"></p> 
				 
				        <table th:if="${!orders.isEmpty()}"> 
				            <thead> 
				                <tr> 
				                    <th>ID</th> 
				                    <th>顧客名</th> 
				                    <th>注文日時</th> 
				                    <th>合計金額</th> 
				                    <th>ステータス</th> 
				                    <th>操作</th> 
				                </tr> 
				            </thead> 
				            <tbody> 
				                <tr th:each="order : ${orders}"> 
				                    <td th:text="${order.id}"></td>
									<td th:text="${order.customer.name}"></td> 
									                    <td th:text="${#temporals.format(order.orderDate, 'yyyy/MM/dd HH:mm')}"></td> 
									                    <td th:text="${#numbers.formatCurrency(order.totalAmount)} + '円'"></td> 
									                    <td th:text="${order.status}"></td> 
									                    <td class="action-links"> 
									                        <a th:href="@{/admin/orders/{id}(id=${order.id})}">詳細/編集</a> 
									                        <a th:href="@{/admin/orders/{id}/delete(id=${order.id})}" 
									                            onclick="return confirm('本当に削除しますか？');" class="delete">削除</a> 
									                    </td> 
									                </tr> 
									            </tbody> 
									        </table> 
									        <div th:if="${orders.isEmpty()}"> 
									            <p>まだ注文はありません。</p> 
									        </div> 
									    </div> 
									</body> 
									 
									</html>